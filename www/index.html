<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>ICE Test App</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="stylesheet" href="css/jquery.mobile.datepicker.css" />
        <link rel="stylesheet" href="css/jquery.mobile.min.css" />
        <link rel="stylesheet" href="css/jquery-ui.min.css" />
        <link rel="stylesheet" href="css/jquery-ui.structure.min.css" />
        <link rel="stylesheet" href="css/jquery-ui.theme.min.css" />
        <link rel="stylesheet" href="css/ice.css" />
        <script src="js/jquery.min.js"></script>
        <script src="js/jquery-ui.min.js"></script>
        <script src="js/jquery.mobile.min.js"></script>
        <script src="js/jquery.mobile.datepicker.js"></script>
        <script src="js/iceData.js"></script>
        <script src="js/iceUtils.js"></script>
        <script src="js/iceOpenCds.js"></script>
        <script src="js/icePatient.js"></script>
        <script src="js/iceInit.js"></script>
    </head>
    <body>
        <div data-role="page" id="main">
            <div data-role="header">
                <div class="iceLogo"></div>
                <h1>ICE Client</h1>
            </div>
            <div role="main" class="ui-content">
                <form>
                    <table id="patientListTable" data-role="table" class="ui-responsive table-stroke">
                        <caption class="patCaption">Patient List</caption>
                        <thead>
                            <tr>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                            </tr>
                        </tbody>
                    </table>
                    <script type="text/javascript">
                        listPatients();
                    </script>
                    <a href="#savePatient" class="ui-btn ui-btn-inline ui-icon-plus ui-btn-icon-left">Add Patient</a>
                    <a href="#importPatient" class="ui-btn ui-btn-inline ui-icon-arrow-u ui-btn-icon-left">Import Patient</a>
                    <a href="#settings" onclick="initSettings();" class="ui-btn ui-btn-inline ui-icon-gear ui-btn-icon-left">Settings</a>
                </form>
            </div>
            <div data-role="footer"><h4>Copyright &copy;<script>document.write(new Date().getFullYear())</script> HLN Consulting, LLC</h4></div>
        </div>
        <div data-role="page" id="icePatient">
            <div data-role="header"><div class="iceLogo"></div><h1>Patient ICE Results</h1></div>
            <div role="main" class="ui-content">
                <form>
                    <a href="#main" class="ui-shadow ui-btn ui-corner-all ui-btn-inline">Back</a>
                    <div class="floatLeft100" style="opacity: .5;display: table-caption;margin: 20px 12px;">Patient Info</div>
                    <div class="floatLeft100" ><div class="icePatLabel">Name:&nbsp;&nbsp;</div><div class="icePatData" id="patientName"></div></div>
                    <div class="floatLeft100" ><div class="icePatLabel">DOB:&nbsp;&nbsp;</div><div class="icePatData" id="patientDob"></div></div>
                    <div class="floatLeft100" ><div class="icePatLabel">Gender:&nbsp;&nbsp;</div><div class="icePatData" id="patientGender"></div></div>
                    <div class="floatLeft100" ><div class="icePatLabel">Evaluation Date:&nbsp;&nbsp;</div><div class="icePatData" id="patientEvalDate"></div></div>
                    <div class="floatLeft100" ><div class="icePatLabel" style="margin-bottom:20px;">Age @Evaluation:&nbsp;&nbsp;</div><div class="icePatData" id="patientAgeEvalDate"></div></div>
                    <table id="iceOutputGrid"
                           data-role="table"
                           class="ui-responsive table-stroke"
                           style="margin-top:20px;">
                        <caption>Patient Output Grid</caption>
                        <thead>
                            <tr>
                                <th>Vaccine Group</th>
                                <th>Recommendations</th>
                                <th>Evaluations</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                        </tbody>
                    </table>
                    <a href="#main" class="ui-shadow ui-btn ui-corner-all ui-btn-inline">Back</a>
                    <table id="iceDebugger"
                           data-role="table"
                           class="ui-responsive table-stroke"
                           style="display:none;margin-top:20px;">
                        <caption>Debugging Info</caption>
                        <thead>
                            <tr>
                                <th>Object</th>
                                <th>Data</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    ICE Request Status:
                                </td>
                                <td>
                                    <div id="requestStatus"></div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    ICE Response Data:
                                </td>
                                <td>
                                    <textarea id="responseData" name="responseData" cols="50" rows="5"></textarea>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    Input VMR:
                                </td>
                                <td>
                                    <textarea id="input" name="input" cols="50" rows="5"></textarea>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    Output VMR:
                                </td>
                                <td>
                                    <textarea id="output" name="output" cols="50" rows="5"></textarea>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    SOAP Request:
                                </td>
                                <td>
                                    <textarea id="soapRequest" name="soapRequest" cols="50" rows="5"></textarea>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    SOAP Response:
                                </td>
                                <td>
                                    <textarea id="soapResponse" name="soapResponse" cols="50" rows="5"></textarea>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </form>
            </div>
            <div data-role="footer"><h4>Copyright &copy;<script>document.write(new Date().getFullYear())</script> HLN Consulting, LLC</h4></div>
        </div>
        <div data-role="page" id="savePatient">
            <div data-role="header"><div class="iceLogo"></div><h1>Patient Editor</h1></div>
            <div role="main" class="ui-content">
                Note: for dates, use &quot;yyyymmdd&quot; format (e.g. 19301231).
                <form id="savePatientForm">
                    <input type="hidden" name="patientId" id="patientId" />
                    <table data-role="table" class="ui-responsive table-stroke">
                        <thead>
                            <tr>
                                <th></th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <th>
                                    <label for="firstName">First Name</label>
                                </th>
                                <td>
                                    <input name="firstName" id="firstName" type="text" />
                                </td>
                            </tr>
                            <tr>
                                <th>
                                    <label for="lastName">Last Name</label>
                                </th>
                                <td>
                                    <input name="lastName" id="lastName" type="text" />
                                </td>
                            </tr>
                            <tr>
                                <th>
                                    <label>Gender</label>
                                </th>
                                <td>
                                    <fieldset data-role="controlgroup" data-type="horizontal">
                                        <label><input name="gender" id="genderM" type="radio" value="M"/>Male</label>
                                        <label><input name="gender" id="genderF" type="radio" value="F"/>Female</label>
                                        <label><input name="gender" id="genderO" type="radio" value="O"/>Other</label>
                                    </fieldset>
                                </td>
                            </tr>
                            <tr>
                                <th>
                                    <label for="dob">Birth Date</label>
                                </th>
                                <td>
                                    <input name="dob" id="dob" type="text" data-role="date" />
                                </td>
                            </tr>
                            <tr>
                                <th>
                                    <label for="dob">Evaluation Date</label>
                                </th>
                                <td>
                                    <input name="evalDate" id="evalDate" type="text" data-role="date" />
                                </td>
                            </tr>
                            <tr>
                                <th style="vertical-align: text-top">
                                    <label>Immunizations/Diseases</label>
                                </th>
                                <td>
                                    <table data-role="table"
                                           id="izEntryTable"
                                           class="table-stroke">
                                        <thead>
                                            <tr>
                                                <th>Date</th>
                                                <th>Code</th>
                                                <th>Type</th>
                                                <th></th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                        </tbody>
                                    </table>
                                    <a href="#"
                                       class="ui-btn ui-btn-inline ui-icon-plus ui-btn-icon-left"
                                       onclick="addIzRow();"
                                       title="Add Row">Add Row</a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="ui-grid-a">
                        <div class="ui-block-a"><a href="#main" onclick="document.getElementById('savePatientForm').reset()" class="ui-shadow ui-btn ui-corner-all">Cancel</a></div>
                        <div class="ui-block-b">
                            <div class="button-wrap">
                                <button name="Save" class="ui-shadow ui-btn ui-corner-all" onclick="savePatient();
                                        return false;">Save</button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div data-role="footer"><h4>Copyright &copy;<script>document.write(new Date().getFullYear())</script> HLN Consulting, LLC</h4></div>
        </div>
        <div data-role="page" id="deleteConfirm" data-dialog="true">
            <div data-role="header"><h1>Delete Patient</h1></div>
            <div role="main" class="ui-content" style="padding:40px;">
                <div id="deleteConfirmMessage">Are you sure you want to delete the selected patient?</div>
                <div class="ui-grid-a">
                    <div class="ui-block-a"><a href="#main" onclick="selectedPatient = null;" class="ui-shadow ui-btn ui-corner-all">Cancel</a></div>
                    <div class="ui-block-b" style="padding-right:20px;">
                        <div class="button-wrap">
                            <button name="Delete" class="ui-shadow ui-btn ui-corner-all" onclick="deletePatient(selectedPatient);
                                    return false;">Delete</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div data-role="page" id="importPatient" data-dialog="true">
            <div data-role="header"><h1>Import Patient</h1></div>
            <div role="main" class="ui-content" style="padding:40px;">
                <form id="uploadForm" method="post" enctype="multipart/form-data" data-ajax="false">
                    <div>Select a file to import a patient from:</div>
                    <div><input type="file" name="file" id="importPatientInput" /></div>
                    <a href="#main" class="ui-shadow ui-btn ui-corner-all">Cancel</a>
                </form>
            </div>
        </div>
        <div data-role="page" id="settings">
            <div data-role="header"><h1>Settings</h1></div>
            <div role="main" class="ui-content">
                <form id="settingsForm">
                    <table>
                        <tr>
                            <th>
                                <label style="font-weight:bold;" class="formLabel" for="debugSetting">Debug:</label>
                            </th>
                            <td>
                                <input type="checkbox" data-role="flipswitch" name="debugSetting" id="debugSetting">
                            </td>
                        </tr>
                    </table>
                    <div class="ui-grid-a">
                        <div class="ui-block-a"><a href="#main" onclick="document.getElementById('settingsForm').reset()" class="ui-shadow ui-btn ui-corner-all">Cancel</a></div>
                        <div class="ui-block-b">
                            <div class="button-wrap">
                                <button name="Save" class="ui-shadow ui-btn ui-corner-all" onclick="saveSettings();
                                        return false;">Save</button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </body>
</html>
